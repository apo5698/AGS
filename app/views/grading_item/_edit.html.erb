<div class="modal-header">
  <h5 class="modal-title">
    <%= Student.find(@grading_item.student_id) %>(<%= @grading_item.attachment.filename %>)
  </h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<%= form_with(url: { action: :update }, html: { method: :put }) do |f| %>
  <div class="modal-body">
    <div class="form-group">
      <%= f.label(:status, "Status") %>
      <%= f.select(:status, GradingItem.statuses.values,
                   { selected: GradingItem.statuses[@grading_item.status] }, { class: 'form-control' }) %>
    </div>
    <div class="form-group">
      <%= f.label(:grade, "Grade") %>
      <%= f.text_field(:grade, class: 'form-control w-25', value: @grading_item.points_received, required: true) %>
    </div>
    <div class="form-group">
      <%= f.label(:feedback, "Feedback comments") %>
      <%= f.text_field(:feedback, class: 'form-control', value: @grading_item.status_detail, required: true) %>
    </div>
  </div>
  <div class="modal-footer">
    <%= f.submit('Submit', class: 'btn btn-primary') %>
    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
  </div>
<% end %>
<script>
  $('#grade').on('input', function () {
    if ($(this).val() === '0') {
      $('#status').val('Error');
    }
  });
</script>